---
title: "Triggering from Salesforce"
description: "Create a custom button inside the native Salesforce app in order to trigger the tool directly from within the CRM."
---

This integration enables your sales reps to autonomously launch Cargo actions directly associated to a contact or account without leaving the CRM. Perfect for on-demand company research, contact enrichment, and lead scoring.

## Prerequisites

What you'll need to make this possible:

- **Salesforce admin access** - Required to create flows, named credentials, and custom buttons and to create the SFDC connector in Cargo (if not already the case)
- **Cargo workspace** - With write access and a Tool set up
- **API access** - Your Cargo API token and tool endpoint URL

Follow this 5-step tutorial to implement this integration in your CRM.

## Step 1 - Create and configure a Tool in Cargo

Create a new **Tool** in Cargo that will handle the account research and Salesforce updates


<!--ARCADE EMBED START--><div style="position: relative; padding-bottom: calc(62.5% + 41px); height: 0; width: 100%;"><iframe src="https://demo.arcade.software/DyYrU1nsWb9SQ9w0PEBz?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=true" title="Integrate Account Research Workflows with API Access" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="clipboard-write" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; color-scheme: light;" ></iframe></div><!--ARCADE EMBED END-->
![Step 0 - Create a Tool in Cargo.gif](/images/Step0-CreateaToolinCargo.gif)

Configure your tool with:

- **AI prompt** for account research
- **Salesforce Update action** to update the Account record
- **Input parameters** to receive data from Salesforce

The tool will provide a webhook URL that looks like this:

```
https://api.getcargo.io/v1/tools/e276dc32-aca1-4136-bbe7-dce879346c58/execute?token=<your_token>
```

Where:

- `e276dc32-aca1-4136-bbe7-dce879346c58` is your unique tool ID
- `<your_token>` is your Cargo API token

## Step 2 - Create a named credential

<!--ARCADE EMBED START--><div style="position: relative; padding-bottom: calc(62.5% + 41px); height: 0; width: 100%;"><iframe src="https://demo.arcade.software/IpsfnyJoEXUbDZvTIhOz?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=true" title="Step 2 - Register an External Service in Salesforce" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="clipboard-write" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; color-scheme: light;" ></iframe></div><!--ARCADE EMBED END-->

![Step 1 - Create a Named Credential in Salesforce.gif](/images/Step1-CreateaNamedCredentialinSalesforce.gif)

- Go to **Setup → Named Credentials**.
- Click **New** and select **Legacy Named Credential**.
- Enter the label and URL for your Cargo endpoint.
- Save the credential.

## Step 3 - Register an external service

In **Setup → External Services**, register a new one

<!--ARCADE EMBED START--><div style="position: relative; padding-bottom: calc(62.5% + 41px); height: 0; width: 100%;"><iframe src="https://demo.arcade.software/988fE6fMLjlHfXnGcdkF?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=true" title="Step 3 - Create a Flow to Retrieve Account Records in Salesforce" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="clipboard-write" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; color-scheme: light;" ></iframe></div><!--ARCADE EMBED END-->

![Step 2 - Register an External Service in Salesforce.gif](/images/Step2-RegisteranExternalServiceinSalesforce.gif)

Select the named credential you just created and register the service with the provided schema:

```
{"openapi":"3.0.1","info":{"title":"Cargo","description":""},"paths":{"CARGOPATH":{"post":{"description":"","operationId":"Query Cargo","parameters":[{"name":"token","in":"query","description":"","required":false,"allowEmptyValue":false,"schema":{"type":"string"}}],"requestBody":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"accountId":{"type":"string"},"linkedinUrl":{"type":"string"},"domain":{"type":"string"},"name":{"type":"string"},"linkedinId":{"type":"string"},"ownerId":{"type":"string"}}}}},"required":true},"responses":{"2XX":{"description":"","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}}}}
```

> ### Important to note
>
> Replace `CargoPath` by your Tool URL from Cargo, make sure to take the part starting `v1` and ending `execute`
>
> ```
> /v1/tools/e276dc32-aca1-4136-bbe7-dce879346c58/execute
> ```
>
> Make sure the `schema` section of this reflects the fields that you'll be specifying in \*\*Step 4.2 \*\*below. As an example, we'll be using the following.
>
> ```
> {
>   "ownerId": { "type": "string" },
>   "accountId": { "type": "string" },
>   "domain": { "type": "string" }
> }
> ```

## Step 4 - Create a flow

### 4.1 - Retrieve account records

Create a **flow** that pulls account records from Salesforce.

<!--ARCADE EMBED START--><div style="position: relative; padding-bottom: calc(62.5% + 41px); height: 0; width: 100%;"><iframe src="https://demo.arcade.software/988fE6fMLjlHfXnGcdkF?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=true" title="Step 3 - Create a Flow to Retrieve Account Records in Salesforce" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="clipboard-write" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; color-scheme: light;" ></iframe></div><!--ARCADE EMBED END-->

![Step 3 - Create a Flow to Retrieve Account Records in Salesforce.gif](/images/Step3-CreateaFlowtoRetrieveAccountRecordsinSalesforce.gif)

### 4.2 - Map fields in an assignment step

Map the Salesforce fields to the inputs required by your Cargo **HTTP call**.

<!--ARCADE EMBED START--><div style="position: relative; padding-bottom: calc(62.5% + 41px); height: 0; width: 100%;"><iframe src="https://demo.arcade.software/Za7j5UmPAgopbrrTLFoL?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=true" title="Step 4 - Map Fields in a Salesforce Flow Assignment Step" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="clipboard-write" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; color-scheme: light;" ></iframe></div><!--ARCADE EMBED END-->

![Step 4 - Map Fields in a Salesforce Flow Assignment Step (8).gif](/images/Step4-MapFieldsinaSalesforceFlowAssignmentStep\(8\).gif)

At this point we need to specify the JSON schema for the HTTP callout that aligns with the one we specified before during **Step 3**. For the example that we shared above, the schema below will be valid. Note, that we're providing random example of values for each field to configure this action.

```
{
"accountId": "0018b00002ABCDeAA1",
"domain": "example.com",
"ownerId": "0058b00001XYZAbAA1"
}
```

### 4.3 - Add a screen step at the end of the flow

Add a **screen element** to show results or request user input before finishing the flow.

<!--ARCADE EMBED START--><div style="position: relative; padding-bottom: calc(57.12240515390121% + 41px); height: 0; width: 100%;"><iframe src="https://demo.arcade.software/2iwQ5qUufacXyp23nDXB?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=true" title="Step 5 - Add a Screen Step to Your Salesforce Flow" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="clipboard-write" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; color-scheme: light;" ></iframe></div><!--ARCADE EMBED END-->

![Step 5 - Add a Screen Step to Your Salesforce Flow (1).gif](/images/Step5-AddaScreenSteptoYourSalesforceFlow\(1\).gif)

### 4.4 - Map the variable(s) created during the HTTP callout action's creation into the assignment action

<!--ARCADE EMBED START--><div style="position: relative; padding-bottom: calc(62.5% + 41px); height: 0; width: 100%;"><iframe src="https://demo.arcade.software/7bwz9KwQfUqKM90O9oxm?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=true" title="Step 4.4 - Configure Variable Assignments for HTTP Callouts in Salesforce Flow" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="clipboard-write" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; color-scheme: light;" ></iframe></div><!--ARCADE EMBED END-->

![Configure Variable Assignments for HTTP Callouts in Salesforce Flow (1).gif](/images/ConfigureVariableAssignmentsforHTTPCalloutsinSalesforceFlow\(1\).gif)

## Step 5 - Add a custom button to your Accounts interface

Go to Setup → Object Manager → Account → Buttons, Links, and Actions.

<!--ARCADE EMBED START--><div style="position: relative; padding-bottom: calc(62.5% + 41px); height: 0; width: 100%;"><iframe src="https://demo.arcade.software/ZhmmQaWb6J37VdfD4YXF?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=true" title="Step 6 - Add a Custom Flow Button to an Account in Salesforce" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="clipboard-write" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; color-scheme: light;" ></iframe></div><!--ARCADE EMBED END-->

![Step 6 - Add a Custom Flow Button to an Account in Salesforce (6).gif](/images/Step6-AddaCustomFlowButtontoanAccountinSalesforce\(6\).gif)

- Create a new Flow Button.
- Link it to the flow you just built.
- Add the button to the Account page layout.

## Testing your integration

### Verify the setup

1. **Test the button** - Click your custom button on an Account record
2. **Check the flow** - Ensure the flow runs without errors
3. **Monitor the Tool** - Verify the Cargo Tool executes and updates the Salesforce record
4. **Review results** - Confirm the Account record is updated with the research data

### Common issues and solutions

**"Flow failed to start"**

- Check that the custom button is properly linked to the flow
- Verify the flow is active and has the correct permissions

**"HTTP callout failed"**

- Verify the named credential is correctly configured
- Check that the API token is valid and has proper permissions
- Ensure the tool ID in the URL matches your Cargo tool

**"Tool not executing"**

- Confirm the tool is receiving data from Salesforce
- Check that the Tool is active and properly configured
- Verify the Salesforce update action has the correct field mappings

## Next steps

Once your integration is working:

- **Train your team** - Show reps how to use the new button
- **Monitor usage** - Track which accounts are being researched
- **Optimize prompts** - Refine your Tool's AI prompts based on results
- **Scale up** - Consider adding similar buttons for Contacts or Leads